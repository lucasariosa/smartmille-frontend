<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>SmartMille</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  background:#f4f6f8;
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  margin:0;
  padding:40px 16px;
  color:#111827;
}

.container {
  max-width: 520px;
  margin:auto;
}

input, select, button {
  width:100%;
  padding:14px;
  margin-bottom:12px;
  border-radius:8px;
  border:1px solid #d1d5db;
  font-size:15px;
}

button {
  background:#111827;
  color:white;
  font-weight:700;
  cursor:pointer;
}

button:disabled { opacity:.6 }

.carousel {
  margin-top:32px;
  display:grid;
  gap:32px;
}

.slide {
  position:relative;
  width:100%;
  aspect-ratio:4/5;
  border-radius:20px;
  overflow:hidden;
}

.slide img {
  width:100%;
  height:100%;
  object-fit:cover;
}

.overlay {
  position:absolute;
  inset:0;
  padding:32px;
  background:linear-gradient(
    to bottom,
    rgba(0,0,0,.15),
    rgba(0,0,0,.9)
  );
  display:flex;
  flex-direction:column;
  justify-content:center;
}

.headline {
  font-size:30px;
  font-weight:800;
  line-height:1.1;
  color:#fff;
  margin-bottom:18px;
  max-width:90%;
}

.text {
  font-size:16px;
  line-height:1.55;
  color:#e5e7eb;
  max-width:90%;
}
</style>
</head>

<body>

<div class="container">
  <input id="nome" placeholder="Seu nome">
  <input id="contato" placeholder="WhatsApp">
  <input id="area" placeholder="Área de atuação">
  <input id="publico" placeholder="Público-alvo">
  <select id="tipo">
    <option value="introducao">Introdução</option>
    <option value="definicao">Definição</option>
    <option value="conclusao">Conclusão</option>
  </select>
  <input id="tema" placeholder="Tema do carrossel">

  <button id="btn" onclick="gerar()">Gerar carrossel</button>

  <div id="resultado" class="carousel"></div>
</div>

<script>
async function gerar() {
  btn.disabled = true;
  btn.innerText = "Gerando...";

  const payload = {
    nome: nome.value,
    contato: contato.value,
    area: area.value,
    publico: publico.value,
    tipo: tipo.value,
    tema: tema.value
  };

  const res = await fetch(
    "https://smartmille-backend.onrender.com/gerar-carrossel",
    {
      method:"POST",
      headers:{ "Content-Type":"application/json" },
      body: JSON.stringify(payload)
    }
  );

  const data = await res.json();
  resultado.innerHTML = "";

  data.slides.forEach(s => {
    const div = document.createElement("div");
    div.className = "slide";
    div.innerHTML = `
      <img src="data:image/png;base64,${s.imagem}">
      <div class="overlay">
        <div class="headline">${s.headline}</div>
        <div class="text">${s.texto}</div>
      </div>
    `;
    resultado.appendChild(div);
  });

  btn.disabled = false;
  btn.innerText = "Gerar carrossel";
}
</script>

</body>
</html>
